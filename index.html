<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cloud Firestore</title>
</head>
<body>
    <h1>Cloud Firestore</h1>

    <label for="name">Name</label>
    <input type="text" name="name" id="name" placeholder="Enter Your Name"><br><br>
    <label for="email">Email</label>
    <input type="email" name="email" id="email" placeholder="Enter Your Email"><br><br>
    <button onclick="sendData()">Send Data</button>

    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/8.2.2/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.2/firebase-firestore.js"></script>

    <!-- TODO: Add SDKs for Firebase products that you want to use
        https://firebase.google.com/docs/web/setup#available-libraries -->
    <script src="https://www.gstatic.com/firebasejs/8.2.2/firebase-analytics.js"></script>

    <script>
        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        var firebaseConfig = {
            apiKey: "AIzaSyBXsbqvX1K740OEbddHUzuqoxQpDySEMQE",
            authDomain: "fir-7567a.firebaseapp.com",
            databaseURL: "https://fir-7567a-default-rtdb.firebaseio.com",
            projectId: "fir-7567a",
            storageBucket: "fir-7567a.appspot.com",
            messagingSenderId: "698937786999",
            appId: "1:698937786999:web:af047649986454f799fc72",
            measurementId: "G-696K9H72Z9"
        };
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        firebase.analytics();

        var db = firebase.firestore();

        const name = document.querySelector("#name");
        const email = document.querySelector("#email");

        function sendData() {
            db.collection('users').add({
                name_data: name.value,
                email_data: email.value
            }).then((docRef) => {
                console.log(docRef.id);
                console.log("Data sent successfully");
                alert("Data sent successfully");
            }).catch((err) => {
                console.log(err);
                console.log(err.message);
                alert(err.message);
            });
        }
    </script>
</body>
</html>